# LIFE4137

## This is the github page for my thesis titled "...", all scripts mentioned will be accomponied by instructions of what needs changing and how to execute them

## download_ncbi_databases.sh

Download the download_ncbi_databases.sh script from the scripts/ directory above. To repeat my data on a HPC simply change lines 10 and 43 to the location of your home directory and 12 to your email address, for the location of the standard output file, the directory in which you want the ncbi directories to be located and to recieve a notification when the script completes respectively. To execute the script first run ```sbatch download_ncbi_databases.sh```. If running as a bash script run: ```chmod +x download_ncbi_databases.sh``` then  ```./download_ncbi_databases.sh```. If using your own data, visit https://www.ncbi.nlm.nih.gov/datasets/genome/ and search for each of your species. Filter by: Reference genomes, Annotated genomes and Exclude atypical genomes. To retrive the download link, click on the name of the assembly, then datasets (see images below for more assisstance). Add this to the script and edit the '--include' flag to which files you require (I used '--include cds,protein,genome'), follow this by ```unzip ncbi_dataset.zip``` to unzip the file, then ```mv ncbi_dataset/data/G*/G*_genomic.fna ../genomic_fna_files/[species_name].fna``` to move the genomic fna file to a directory containing all genomic fna files, then ```mv ncbi_dataset/data/G*/cds_from_genomic.fna ../cds_fna_files/[species_name].fna``` and ```mv ncbi_dataset/data/G*/protein.faa ../faa_files/[species_name].faa``` each time changing [species_name] to the species name of your choice, ```rm -rf ncbi_dataset```, then 'echo "\n\n[species common name] genome downloaded\n\n"' so you can check the progress in the slurm script. **Top Tip:** when searching for the next species in ncbi, type it into the search bar then remove the previous to keep the filters selected. 

## all_busco.sh

Download the all_busco.sh script from the scripts/ directory above. Change the username on lines 10,12 and 15 for the slurm output file location, email address and directory in which the script operates. The name of the busco module on line 16 may also need to be edited, to search for your HPC's busco module use: ``` module avail busco```, if it is not listed create a conda environment: ```conda create -n busco_env -c conda-forge -c bioconda busco``` and activate the environment ```conda activate busco_env```. To execute the script on a HPC use ```sbatch all_busco.sh``` to execute as a bash script simply: ```chmod +x all_busco.sh``` then  ```./all_busco.sh```.
